1. N개 덱 절반으로 나눔 n:4~12 짝수
1) 1~N/2, N/2+1 ~ N

2. 다이얼로 x값 조정 x: 0 ~ N-1
x = 0

오름차순, 내림차순 정렬되면 => 셔플 횟수
셔플 5회 초과 or 정답 불가능 => -1출력

6*6*6*6*6 
6^5 번

Shuffle-O-Matic 은 카드의 순서를 섞는데 사용하는, 카드 셔플러이다.
[그림 1] 과 같이, 양쪽에 카드를 절반씩 올려놓고, 동작 버튼을 누르면 카드가 가운데로 떨어지면서 섞이게 된다. 
 




                                                [그림 1]


이 카드 셔플러는 특이하게도, 카드가 섞이기 시작하는 시점인 x 값을 사용자가 조정할 수 있다. 
카드 셔플러의 사용 방법은 아래와 같다.




1. N 개로 이루어진 덱을 절반으로 나누어 올려둔다. 


1 ~ N/2 번째 카드는 왼쪽 (L), N/2 + 1 ~ N 번째 카드는 오른쪽 (R) 에 올려둔다.




2. 카드 셔플러의 측면에 있는 다이얼로 x 값을 조정한 후, 동작 버튼을 누른다.



다이얼로 조정할 수 있는 x 값은 0 ~ N-1 이며, x 값에 따라 카드가 섞이는 순서가 달라진다. 
N = 6이고, 기존 카드의 순서가 오름차순으로 정렬된 상태일 때, 아래 [그림 2] 와 같은 순서로 셔플이 된다.



 
                                                      [그림 2]




Shuffle-O-Matic 의 기능을 활용하여, 카드의 순서가 오름차순 또는 내림차순이 되도록 정렬하려고 한다.




입력으로 N 장의 카드와, 정리되지 않은 상태의 카드 순서가 주어질 때, 
최소 몇 번의 셔플로 카드를 정렬할 수 있는지를 계산하는 프로그램을 작성하라.




정답으로 오름차순으로 정렬했을 때와 내림차순으로 정렬했을 때 중, 셔플 횟수의 최소값을 출력한다. 




단, 정렬이 불가능한 경우나 셔플 횟수가 5 회를 초과할 경우, 정답으로 -1 을 출력한다.




[제약사항]


1. 카드의 개수 N 은 4 이상 12 이하의 짝수이다. (4 ≤ N ≤ 12) 
2. 각각의 카드는 1 ~ N 번까지 숫자가 표기되어 있다.




[입력]


입력은 첫 줄에 총 테스트 케이스의 개수 T 가 온다. 다음 줄 부터 각 테스트 케이스가 주어진다.
각 테스트 케이스의 첫 줄에는 카드의 갯수 N 이 주어진다.
두 번째 줄에는 정렬되지 않은 상태의 카드 번호가 순서대로 나열된다.




[출력]


테스트 케이스 t에 대한 결과는 “#t”을 찍고, 한 칸 띄고, 정답을 출력한다. 
(t는 테스트 케이스의 번호를 의미하며 1부터 시작한다.) 
정답으로 정렬에 필요한 최소 셔플 횟수를 출력한다. 



어려운 물리학 난제를 풀기 위한 공동 연구에 삼성전자가 참가하게 되었다. 공동 연구에 필요한 여러 과제 중 삼성전자는 원자들의 움직임을 시뮬레이션 하는 역할을 담당하게 되었다.

 

원자들은 2차원 평면에서 이동하며 두 개 이상의 원자가 충돌 할 경우 충돌한 원자들은 모두 보유한 에너지를 방출하고 소멸된다.

 

원자의 움직임은 다음과 같다.

1. 원자의 최초 위치는 2차원 평면상의 [x, y] 이다.

2. 원자는 각자 고유의 움직이는 방향을 가지고 있다. (상하좌우 4방향)

 - 상 : y 가 증가하는 방향

 - 하 : y 가 감소하는 방향

 - 좌 : x 가 감소하는 방향

 - 우 : x 가 증가하는 방향

3. 모든 원자들의 이동속도는 동일하며 1초에 1 만큼의 거리를 이동한다.

4. 모든 원자들은 최초 위치에서 동시에 이동을 시작한다.

  5. 두 개 이상의 원자가 동시에 충돌 할 경우 충돌한 원자들은 모두 보유한 에너지를 방출하고 소멸된다.

 

 


      

 

[그림-1] 과 같이 원자들의 [x, y] 위치와 이동방향이 주어지고 각 원자들의 보유 에너지가 1 이라고 가정해보자. (실제 입력에서 원자들의 보유 에너지는 각각 다를 수 있다.)

 

충돌된 원자들이 소멸하면서 방출하는 에너지는 다음과 같다.

-       1초 후에 I, J 원자가 충돌 후 소멸하면서 2 에너지 방출

-       1.5초 후에 A, B 원자가 충돌 후 소멸하면서 2 에너지 방출

-       2초 후에 D, E, G, H 원자가 충돌 후 소멸하면서 4 에너지 방출

-       3초 후에 M, N 원자가 충돌 후 소멸하면서 2 에너지 방출

 

  [그림-1]의 경우 시간이 흘러도 원자 C, F, K, L 은 영원히 충돌하지 않아 소멸되지 않는다.

  따라서 원자들이 소멸되면서 방출하는 에너지의 총합은 10 이다.

 

N 개의 원자들의 [x, y] 위치, 이동 방향, 보유 에너지가 주어질 때 원자들이 소멸되면서 방출하는 에너지의 총합을 구하는 프로그램을 작성하라.

 

 

[제약 사항]

1. 원자들의 수 N 은 1,000개 이하이다. (1≤N≤1,000)

2. 각 원자들의 보유 에너지 K 는 1 이상 100 이하이다. (1≤K≤100)

3. 원자들의 최초 위치 [x, y] 는 -1,000 이상 1,000 이하의 정수로 주어진다. (-1,000≤x,y≤1,000)

4. 원자들은 2차원 평면 위에서 움직이며 원자들이 움직일 수 있는 좌표의 범위에 제한은 없다.

5. 원자들의 이동 방향은 상(0), 하(1), 좌(2), 우(3)로 주어진다.

6. 원자들은 동시에 1초에 이동 방향으로 1만큼 이동한다.

7. 원자들의 최초 위치는 서로 중복되지 않는다.

8. 원자들은 2개 이상의 원자들이 서로 충돌할 경우 보유한 에너지를 방출하면서 바로 소멸된다.

9. 원자들은 이동 방향은 처음에 주어진 방향에서 바뀌지 않는다.

10. 원자들이 충돌하여 소멸되며 방출되는 에너지는 다른 원자의 위치나 이동 방향에 영향을 주지 않는다.

 

[입력]

입력의 가장 첫 줄에는 총 테스트 케이스의 개수 T가 주어진다.

그 다음 줄부터는 각 테스트 케이스가 주어지며 각 테스트 케이스의 첫째 줄에는 원자들의 수 N이 주어진다.

다음 N개의 줄에는 원자들의 x 위치, y 위치, 이동 방향, 보유 에너지 K가 주어진다.

원자들의 이동 방향은 상(0), 하(1), 좌(2), 우(3)로 주어진다.

 

[출력]

테스트 케이스 T에 대한 결과는 “#T”을 찍고, 한 칸 띄고, 방출되는 에너지의 총합을 출력한다. ( T는 테스트케이스의 번호를 의미하며 1부터 시작한다. )






